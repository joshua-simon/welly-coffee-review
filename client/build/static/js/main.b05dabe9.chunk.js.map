{"version":3,"sources":["components/AddReview.jsx","components/Cafe.jsx","components/CafeList.jsx","components/Nav.jsx","components/Main.jsx","helperFunctions.js","components/Review.jsx","components/AllReviews.jsx","components/CafeHeader.jsx","components/CafeReviews.jsx","App.js","index.js"],"names":["AddReview","responseState","useState","userName","stars","title","photo","blurb","cafeName","setFormDetails","submittedResponse","setSubmittedResponse","showMessage","setShowMessage","handleChange","e","preventDefault","target","name","value","prevForm","handleClick","message","onClick","onSubmit","console","log","newReview","axios","post","then","result","data","catch","err","className","type","id","onChange","Cafe","props","cafes","map","cafe","photoURL","_id","to","style","textDecoration","color","src","CafeList","setCafe","useEffect","get","Nav","Main","convertToStars","num","parseInt","star","arr","i","length","push","Review","reviews","review","starRating","item","delete","AllReviews","setReviews","CafeHeader","thing","address","phoneNumber","href","website","CafeReviews","match","params","filteredReviews","filter","okFineDontWork","average","reduce","x","y","roundedAverage","Math","round","averageStarRating","App","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0OA0GeA,EAtGG,WAAO,IAuCOC,EAvCR,EAEkDC,mBAAS,CAACC,SAAS,GAAIC,MAAM,EAAGC,MAAM,GAAIC,MAAM,GAAIC,MAAM,GAAGC,SAAS,KAFxH,0BAEZL,EAFY,EAEZA,SAASC,EAFG,EAEHA,MAAMC,EAFH,EAEGA,MAAMC,EAFT,EAESA,MAAMC,EAFf,EAEeA,MAAMC,EAFrB,EAEqBA,SAAWC,EAFhC,OAG8BP,mBAAS,IAHvC,mBAGbQ,EAHa,KAGMC,EAHN,OAIkBT,oBAAS,GAJ3B,mBAIbU,EAJa,KAIAC,EAJA,KAMdC,EAAe,SAACC,GAClBA,EAAEC,iBADsB,MAEHD,EAAEE,OAAhBC,EAFiB,EAEjBA,KAAKC,EAFY,EAEZA,MACZV,GAAe,SAAAW,GAAQ,kCAChBA,GADgB,kBAElBF,EAAMC,QAwBTE,EAAc,WAChBR,GAAe,IAeXS,EAViB,mCAFGrB,EAYSS,GATnB,oDAAsB,wBAAQa,QAAWF,EAAnB,kBACP,KAAlBpB,EACG,KAEA,sDAOlB,OACI,mCACA,uBAAMuB,SAxCW,SAACT,GAClBU,QAAQC,IAAI,2BACZX,EAAEC,iBACF,IAAMW,EAAY,CACdxB,SAASA,EACTC,MAAMA,EACNC,MAAMA,EACNC,MAAMA,EACNC,MAAMA,EACNC,SAASA,GAEboB,IAAMC,KAAK,uCAAuCF,GACjDG,MAAK,SAAAC,GACFpB,EAAqBoB,EAAOC,KAAKV,YAEpCW,OAAM,SAACC,GACJT,QAAQC,IAAIQ,OAwBhB,UACI,oBAAIC,UAAY,kBAAhB,wBACA,8CACa,uBACT,uBAAOC,KAAO,OAAOC,GAAK,WAAWnB,KAAO,WAAWoB,SAAYxB,OAEvE,2CACU,uBACN,uBAAOsB,KAAO,SAASC,GAAK,QAAQnB,KAAO,QAAQoB,SAAYxB,OAEnE,0CACS,uBACL,uBAAOsB,KAAO,OAAOC,GAAK,QAAQnB,KAAO,QAAQoB,SAAYxB,OAEjE,8CACa,uBACT,uBAAOsB,KAAO,OAAOC,GAAK,QAAQnB,KAAO,QAAQoB,SAAYxB,OAEjE,0CACS,uBACL,uBAAOsB,KAAO,OAAOC,GAAK,QAAQnB,KAAO,QAAQoB,SAAYxB,OAEjE,yCACQ,uBACJ,yBAAQuB,GAAK,WAAWnB,KAAO,WAAWoB,SAAYxB,EAAtD,UACA,wBAAQK,MAAM,iBAAd,4BACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,mBAAd,8BACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,oBAAd,qCAGJ,wBAAQiB,KAAO,SAAf,oBACA,qBAAKD,UAAY,iBAAjB,UAEoB,IAAhBvB,EACAU,EAEA,a,QCvEDiB,EAxBF,SAACC,GAAW,IACfC,EAAUD,EAAVC,MACR,OACE,qBAAKN,UAAY,YAAjB,SAEEM,EAAMC,KAAI,SAACC,GAAU,IACXnC,EAA4BmC,EAA5BnC,SAAUoC,EAAkBD,EAAlBC,SAAUC,EAAQF,EAARE,IAC5B,OACE,cAAC,IAAD,CACEC,GAAE,wBAAmBD,GACrBE,MAAO,CAAEC,eAAgB,OAAQC,MAAO,WAF1C,SAIE,sBAAKd,UAAU,iBAAf,UACE,6BAAK3B,IACL,qBAAK0C,IAAKN,eCUTO,EAtBE,WAAO,IAAD,EACIjD,mBAAS,IADb,mBACduC,EADc,KACPW,EADO,KAcrB,OAVAC,qBAAU,WACRzB,IAAM0B,IAAI,kBACPxB,MAAK,SAACa,GACLS,EAAQT,EAAKX,SAEdC,OAAM,SAACC,GACNT,QAAQC,IAAIQ,QAEf,IAGD,sBAAKC,UAAU,2BAAf,UACI,oBAAIA,UAAY,kBAAhB,qBACF,cAAC,EAAD,CAAMM,MAAOA,QCZJc,EARH,WACR,OACI,qBAAKpB,UAAY,MAAjB,SACI,sCAAQ,uBAAR,cAA4B,uBAA5B,SAA2C,uBAA3C,eCYGqB,EAZF,WACX,OACE,sBAAKrB,UAAU,iBAAf,UACE,cAAC,EAAD,IACA,sBAAKA,UAAY,iBAAjB,UACE,cAAC,EAAD,IACA,cAAC,EAAD,WCXKsB,EAAiB,SAACrD,GAI3B,IAHA,IAAMsD,EAAMC,SAASvD,GACfwD,EAAO,uCACPC,EAAM,GACHC,EAAI,EAAGA,GAAKJ,EAAKI,IACpBD,EAAIE,OAASL,GACfG,EAAIG,KAAKJ,GAGb,OAAOC,GCLX,IAqCeI,EArCA,SAACzB,GAAW,IACjB0B,EAAY1B,EAAZ0B,QAaR,OACE,8BAEEA,EAAQxB,KAAI,SAACyB,GAAY,IACf9D,EAAuC8D,EAAvC9D,MAAOF,EAAgCgE,EAAhChE,SAAUI,EAAsB4D,EAAtB5D,MAAOH,EAAe+D,EAAf/D,MAAOyC,EAAQsB,EAARtB,IACjCuB,EAAaX,EAAerD,GAClC,OACE,sBAAM+B,UAAY,mBAAlB,UACE,6BAAK9B,IACJ+D,EAAW1B,KAAI,SAAC2B,GACf,OAAOA,KAET,kDAAmBlE,KACnB,4BAAII,IACJ,wBAAQgB,QAAS,kBAzBNc,EAyBwBQ,OAxB3CjB,IACG0C,OADH,uBAC0BjC,IACvBP,MAAK,WACJL,QAAQC,IAAI,kCAEbO,OAAM,SAACC,GACNT,QAAQC,IAAIQ,MAPE,IAACG,GAyBX,6BCPGkC,EArBI,WAAO,IAAD,EACSrE,mBAAS,IADlB,mBACdgE,EADc,KACLM,EADK,KAarB,OAVAnB,qBAAU,WACVzB,IAAM0B,IAAI,yCACTxB,MAAK,SAAAqC,GACFK,EAAWL,EAAOnC,SAErBC,OAAM,SAAAC,GACHT,QAAQC,IAAIQ,QAElB,IAGM,gCACA,yCACA,cAAC,EAAD,CAAQgC,QAAWA,QCIZO,EArBI,SAACjC,GAAW,IACrBG,EAAgBH,EAAhBG,KAAM+B,EAAUlC,EAAVkC,MACd,OACE,gCACE,sBAAKvC,UAAU,cAAf,UACE,qBAAKe,IAAKP,EAAKC,WACf,6BAAKD,EAAKnC,WAAekE,KAE3B,qBAAIvC,UAAU,kBAAd,UACE,6BAAKQ,EAAKgC,UACV,6BAAKhC,EAAKiC,cACV,6BACE,mBAAGC,KAAMlC,EAAKmC,QAAS/B,MAAO,CAAEC,eAAgB,QAAhD,8BCkCK+B,EAxCK,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAAY,EACT9E,mBAAS,IADA,mBAC1ByC,EAD0B,KACpBS,EADoB,OAEHlD,mBAAS,IAFN,mBAE1BgE,EAF0B,KAEjBM,EAFiB,KAIjCnB,qBAAU,WACRzB,IAAM0B,IAAN,oBAAuB0B,EAAMC,OAAO5C,KAAMP,MAAK,SAACC,GAC9CqB,EAAQrB,EAAOC,SAEjBJ,IAAM0B,IAAI,oBACPxB,MAAK,SAACqC,GACLK,EAAWL,EAAOnC,SAEnBC,OAAM,SAACC,GACNT,QAAQC,IAAIQ,QAEf,IAEH,IAAIgD,EAAkBhB,EAAQiB,QAAO,SAAChB,GACpC,OAAOA,EAAO3D,WAAamC,EAAKnC,YAG7B4E,EJjB4B,SAACpD,GAChC,GAAGA,EAAK+B,OAAO,CACf,IAEIsB,EAFMrD,EAAKU,KAAI,SAAA2B,GAAI,OAAIV,SAASU,EAAKjE,UACzBkF,QAAO,SAACC,EAAEC,GAAH,OAASD,EAAEC,KACdxD,EAAK+B,OACrB0B,EAAiBC,KAAKC,MAAMN,GAEhC,OADmB5B,EAAegC,GAE3B,OAAO,KISOG,CAAkBV,GAEzC,OACI,mCACF,gCACE,cAAC,IAAD,CAAMpC,GAAM,IACZC,MAAO,CAAEC,eAAgB,OAAQC,MAAO,WADxC,SAGA,wCAEA,cAAC,EAAD,CAAYN,KAAMA,EAAM+B,MAAQU,IAChC,qBAAKjD,UAAU,oBAAf,SACA,cAAC,EAAD,CAAQ+B,QAASgB,Y,eClBRW,EAfH,WACV,OACE,cAAC,IAAD,UACA,8BACE,eAAC,IAAD,WACA,cAAC,IAAD,CAAOC,KAAM,IAAIC,OAAK,EAACC,UAAaxC,IACpC,cAAC,IAAD,CAAOsC,KAAM,cAAcE,UAAahG,IACxC,cAAC,IAAD,CAAO8F,KAAM,eAAeE,UAAazB,IACzC,cAAC,IAAD,CAAOuB,KAAM,oBAAoBE,UAAajB,YCZpDkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b05dabe9.chunk.js","sourcesContent":["import React, {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nconst AddReview = () => {\r\n\r\n    const [{userName,stars,title,photo,blurb,cafeName}, setFormDetails] = useState({userName:'', stars:0, title:'', photo:'', blurb:'',cafeName:''})\r\n    const [submittedResponse, setSubmittedResponse] = useState('')\r\n    const [showMessage, setShowMessage] = useState(true)\r\n\r\n    const handleChange = (e) => {\r\n        e.preventDefault()\r\n        const {name,value} = e.target\r\n        setFormDetails(prevForm => ({\r\n            ...prevForm,\r\n            [name]:value\r\n        }))\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        console.log('submit function reached')\r\n        e.preventDefault()\r\n        const newReview = {\r\n            userName:userName,\r\n            stars:stars,\r\n            title:title,\r\n            photo:photo,\r\n            blurb:blurb,\r\n            cafeName:cafeName\r\n        }\r\n        axios.post('http://localhost:5000/api/add-review',newReview)\r\n        .then(result => {\r\n            setSubmittedResponse(result.data.message)\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const handleClick = () => {\r\n        setShowMessage(false)\r\n    }\r\n\r\n    const setResponseMessage = (responseState) => {\r\n        let message = ''\r\n        if(responseState === 'Review successfully submitted'){\r\n            message = <div>Review submitted!<button onClick = {handleClick}>x</button></div>\r\n        } else if (responseState === ''){\r\n            message = null\r\n        }else{\r\n            message = 'Error: review not submitted. Please try again later'\r\n        }\r\n        return message\r\n      }\r\n\r\n      const message = setResponseMessage(submittedResponse)\r\n\r\n    return(\r\n        <>\r\n        <form onSubmit ={handleSubmit}>\r\n            <h2 className = 'main-subheading'>Add review</h2>\r\n            <label>\r\n                User name<br></br>\r\n                <input type = 'text' id = 'userName' name = 'userName' onChange = {handleChange}></input>\r\n            </label>\r\n            <label>\r\n                Rating<br></br>\r\n                <input type = 'number' id = 'stars' name = 'stars' onChange = {handleChange}></input>\r\n            </label>\r\n            <label>\r\n                Title<br></br>\r\n                <input type = 'text' id = 'title' name = 'title' onChange = {handleChange}></input>\r\n            </label>\r\n            <label>\r\n                Photo URL<br></br>\r\n                <input type = 'text' id = 'photo' name = 'photo' onChange = {handleChange}></input>\r\n            </label>\r\n            <label>\r\n                Blurb<br></br>\r\n                <input type = 'text' id = 'blurb' name = 'blurb' onChange = {handleChange}></input>\r\n            </label>\r\n            <label>\r\n                Cafe<br></br>\r\n                <select id = 'cafeName' name = 'cafeName' onChange = {handleChange}>\r\n                <option value=\"Customs Coffee\">Customs Coffee</option>\r\n                <option value=\"Milk Crate\">Milk Crate</option>\r\n                <option value=\"Best Ugly Bagels\">Best Ugly Bagels</option>\r\n                <option value=\"Lamasons\">Lamasons</option>\r\n                <option value=\"Retrogrove\">Retrogrove</option>\r\n                <option value=\"Midnight Espresso\">Midnight Espresso</option>\r\n                </select>\r\n            </label>\r\n            <button type = 'submit'>Submit</button>\r\n            <div className = 'submit-message'>\r\n            {\r\n                showMessage === true ? \r\n                message\r\n                :\r\n                null\r\n            }\r\n            </div>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddReview","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst Cafe = (props) => {\r\n  const { cafes } = props;\r\n  return (\r\n    <div className = 'cafe-grid'>\r\n      {\r\n      cafes.map((cafe) => {\r\n        const { cafeName, photoURL, _id } = cafe;\r\n        return (\r\n          <Link\r\n            to={`/cafe-reviews/${_id}`}\r\n            style={{ textDecoration: \"none\", color: \"#686262\" }}\r\n          >\r\n            <div className=\"cafe-container\">\r\n              <h2>{cafeName}</h2>\r\n              <img src={photoURL}></img>\r\n            </div>\r\n          </Link>\r\n        )\r\n      })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cafe","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\nimport Cafe from './Cafe'\r\n\r\nconst CafeList = () => {\r\n  const [cafes, setCafe] = useState([]);\r\n\r\n  \r\n  useEffect(() => {\r\n    axios.get(\"/api/all-cafes\")\r\n      .then((cafe) => {\r\n        setCafe(cafe.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"cafe-container-container\">\r\n        <h2 className = 'main-subheading'>Reviews</h2>\r\n      <Cafe cafes={cafes} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CafeList","import React from 'react'\r\n\r\nconst Nav = () => {\r\n    return(\r\n        <div className = 'nav'>\r\n            <h1>The <br></br> Wellington<br></br>Coffee<br></br>Review</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Nav","import React from 'react'\r\nimport CafeList from './CafeList'\r\nimport Nav from './Nav'\r\nimport AddReview from './AddReview'\r\n\r\nconst Main = () => {\r\n  return (\r\n    <div className=\"main-container\">\r\n      <Nav />\r\n      <div className = 'main-block-one'>\r\n        <CafeList />\r\n        <AddReview />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main","export const convertToStars = (stars) => {\r\n    const num = parseInt(stars);\r\n    const star = <i>â˜…</i>;\r\n    const arr = [];\r\n    for (let i = 0; i <= num; i++) {\r\n      if (arr.length < num) {\r\n        arr.push(star);\r\n      }\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  \r\n  export const averageStarRating = (data) => {\r\n    if(data.length){\r\n    let arr = data.map(item => parseInt(item.stars))\r\n    let total = arr.reduce((x,y) => x+y)\r\n    let average = total/data.length\r\n    let roundedAverage = Math.round(average)\r\n    let averageStars = convertToStars(roundedAverage)\r\n    return averageStars\r\n    } else return null\r\n  }\r\n\r\nconst prefix = process.env.NODE_ENV === 'production' ? \"http://mocha-welly-review\" : \"http://localhost:5000\"\r\nexport function getUrl(relativeUrl) {\r\n   return prefix + \"/\" + relativeUrl;\r\n}\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nimport {convertToStars} from '../helperFunctions'\r\n\r\nconst Review = (props) => {\r\n  const { reviews } = props;\r\n\r\n  const handleClick = (id) => {\r\n    axios\r\n      .delete(`/api/reviews/${id}`)\r\n      .then(() => {\r\n        console.log(\"review successfully deleted\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n      reviews.map((review) => {\r\n        const { title, userName, blurb, stars, _id } = review;\r\n        const starRating = convertToStars(stars)\r\n        return (\r\n          <div  className = 'review-container'>\r\n            <h1>{title}</h1>\r\n            {starRating.map((item) => {\r\n              return item\r\n            })}\r\n            <h2>{`Review by: ${userName}`}</h2>\r\n            <p>{blurb}</p>\r\n            <button onClick={() => handleClick(_id)}>Delete</button>\r\n          </div>\r\n        )\r\n      })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Review","import React, {useState, useEffect} from 'react'\r\nimport Review from './Review'\r\nimport axios from 'axios'\r\n\r\nconst AllReviews = () => {\r\n    const [reviews, setReviews] = useState([])\r\n\r\n    useEffect(() => {\r\n    axios.get('http://localhost:5000/api/all-reviews')\r\n    .then(review => {\r\n        setReviews(review.data)\r\n    })\r\n    .catch(err => {\r\n        console.log(err)\r\n    })\r\n},[])\r\n\r\n    return(\r\n        <div>\r\n        <h1>Reviews</h1>\r\n        <Review reviews = {reviews}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AllReviews\r\n\r\n","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst CafeHeader = (props) => {\r\n  const { cafe, thing } = props\r\n  return (\r\n    <div>\r\n      <div className=\"cafe-header\">\r\n        <img src={cafe.photoURL}></img>\r\n        <h1>{cafe.cafeName}</h1>{thing}\r\n      </div>\r\n      <ul className=\"contact-details\">\r\n        <li>{cafe.address}</li>\r\n        <li>{cafe.phoneNumber}</li>\r\n        <li>\r\n          <a href={cafe.website} style={{ textDecoration: \"none\" }}>\r\n            website\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CafeHeader","import React,{useState, useEffect} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport Review from './Review'\r\nimport CafeHeader from './CafeHeader'\r\nimport Main from './Main'\r\nimport {averageStarRating} from '../helperFunctions'\r\n\r\n\r\nconst CafeReviews = ({ match }) => {\r\n  const [cafe, setCafe] = useState([]);\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(`/api/cafe/${match.params.id}`).then((result) => {\r\n      setCafe(result.data);\r\n    })\r\n    axios.get('/api/all-reviews')\r\n      .then((review) => {\r\n        setReviews(review.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  let filteredReviews = reviews.filter((review) => {\r\n    return review.cafeName === cafe.cafeName;\r\n  })\r\n\r\n   let okFineDontWork = (averageStarRating(filteredReviews))\r\n  \r\n  return (\r\n      <>\r\n    <div>\r\n      <Link to = {'/'}\r\n      style={{ textDecoration: \"none\", color: \"#686262\" }}\r\n      >\r\n      <h3>Home</h3>\r\n      </Link>\r\n      <CafeHeader cafe={cafe} thing ={okFineDontWork}/>\r\n      <div className=\"reviews-container\">\r\n      <Review reviews={filteredReviews}/>\r\n      </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CafeReviews","import React from 'react'\nimport AddReview from './components/AddReview'\nimport Main from './components/Main'\nimport AllReviews from './components/AllReviews'\nimport CafeReviews from './components/CafeReviews'\nimport './styles.css'\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\nconst App = () => {\n  return(\n    <Router>\n    <div>\n      <Switch>\n      <Route path ='/' exact component = {Main}/>\n      <Route path ='/add-review' component = {AddReview}/>\n      <Route path ='/all-reviews' component = {AllReviews}/>\n      <Route path ='/cafe-reviews/:id' component = {CafeReviews}/>\n      </Switch>\n    </div>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}